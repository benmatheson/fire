<html>
<head>
  <!-- Plotly.js -->
   <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> 

</head>

<body>
  
<div id="paste"> </div>
  <div id="myDiv" style="width: 80%; height: 700px;"></div>
  
  <div id="dateDiv" style="width: 600px; height: 400px;"></div>

    <div id="costDiv" style="width: 600px; height:400px;"></div>
  
    <div id="fireHistoryDiv" style="width: 80%; height:400px;"></div>

    <div id="historyDiv" style="width: 80%; height:900px;"></div>
    <div id="donutCount" style="width: 80%; height:900px;"></div>


  <script>


    var urlJSON = "https://rawgit.com/benmatheson/fire/master/exportJSON.JSON";
$.getJSON(urlJSON, function(data){
	var parsedData = data;

  var humanFiresNumber = parsedData[0].humanFiresNumber;
var lightningFiresNumber =parsedData[0].lightningFiresNumber;
	var costArray = JSON.parse(parsedData[0].costArray);
	var sizeArray = JSON.parse(parsedData[0].sizeArray);
	var nameArray = JSON.parse(parsedData[0].nameArray);
	var discoverArray = JSON.parse(parsedData[0].discoverArray);

var discoverArray = JSON.parse(parsedData[0].discoverArray);

var fireHistoryDates = JSON.parse(parsedData[0].fireHistoryDates);
var fireHistoryHumanAcres =JSON.parse(parsedData[0].fireHistoryHumanAcres);
var fireHistoryHumanFires = JSON.parse(parsedData[0].fireHistoryHumanFires);
var fireHistoryLightningAcres = JSON.parse(parsedData[0].fireHistoryLightningAcres);
var fireHistoryLightningFires = JSON.parse(parsedData[0].fireHistoryLightningFires);
var fireHistory2011Acres = JSON.parse(parsedData[0].fireHistory2011Acres);
var fireHistory2012Acres = JSON.parse(parsedData[0].fireHistory2012Acres);
var fireHistory2013Acres = JSON.parse(parsedData[0].fireHistory2013Acres);
var fireHistory2014Acres = JSON.parse(parsedData[0].fireHistory2014Acres);
var fireHistory2015Acres = JSON.parse(parsedData[0].fireHistory2015Acres);
var fireHistory2016Acres = JSON.parse(parsedData[0].fireHistory2016Acres);
var fireHistory2017Acres = JSON.parse(parsedData[0].fireHistory2017Acres);



	

var data = [
  {
    x: sizeArray,
    type: 'histogram',
  marker: {
    color: 'blue',
  },
  }
];





var costData = [
{

  x: costArray,
  type: 'histogram',
  marker: {
    color: 'rgba(red)',
  },
}

];


var trace1 = {
  x: fireHistoryDates,
  y: fireHistoryHumanAcres,
  mode:'lines+markers',
  name: 'Human Caused Fires',   
  text: "Acres",
};

var trace2 = {
  x: fireHistoryDates,
  y: fireHistoryLightningAcres,
  mode: 'lines+markers',
   name: 'Lightning Fires',
     text: "Acres",
};
var dataHistory = [trace1, trace2];

var lay = {

  font: {
    family: 'Roboto, sans-serif'
     },

   yaxis: {
     title: 'Acres Burned',
     size: 28,
     
     titlefont: {
       family: 'Roboto, sans-serif',
       size: 23,
       color: 'black'
     }
   }
 }



//the HISTORY  

var history2011 = {
  x: fireHistoryDates,
  y: fireHistory2011Acres,
  mode:'lines+markers',
  name: '2011',   
  text: "Acres",
  marker: {
  color: '#f0f9e8',
    opacity: .5}


};
var history2012 = {
  x: fireHistoryDates,
  y: fireHistory2012Acres,
  mode:'lines+markers',
  name: '2012',   
  text: "Acres",
  marker: {
  color: '#ccebc5',
    opacity: .5}
};


var history2013 = {
  x: fireHistoryDates,
  y: fireHistory2013Acres,
  mode:'lines+markers',
  name: '2013',   
  text: "Acres",
  marker: {
  color: '#a8ddb5',
    opacity: .5}
};


var history2014 = {
  x: fireHistoryDates,
  y: fireHistory2014Acres,
  mode: 'lines+markers',
   name: '2014',
     text: "Acres",
     marker: {
  color: '#7bccc4',
    opacity: .4}
};


var history2015 = {
  x: fireHistoryDates,
  y: fireHistory2015Acres,
  mode: 'lines+markers',
   name: '2015',
     text: "Acres",
     marker: {
  color: '#43a2ca',
    opacity: .4}
};


var history2016 = {
  x: fireHistoryDates,
  y: fireHistory2016Acres,
  mode: 'lines+markers',
   name: '2016',
     text: "Acres",
     marker: {
  color: '#0868ac',
    opacity: .4}
};
var history2017 = {
  x: fireHistoryDates,
  y: fireHistory2017Acres,
  mode: 'lines+markers',
   name: '2017',
     text: "Acres",
     marker: {
  color: '#f03b20',
    opacity: .99}
};

var historyData = [history2011, history2012, history2013, history2014, history2015, history2016, history2017];


var layout = {
   yaxis: {
     title: 'Acres Burned',
     size: 28,
     titlefont: {
       family: 'Roboto, sans-serif',
       size: 23,
       color: 'black'
     }
   },

 xaxis: {
     title: 'Date',
     size: 28,
     titlefont: {
       family: 'Roboto, sans-serif',
       size: 23,
       color: 'black',
       range: ["2016-06-01", "2016-06-22"]
     }
   }



 }

var donutCountData = [{
  values: [humanFiresNumber, lightningFiresNumber],
  labels: ['human', 'lightning' ],
  marker: {color: ['#fdae61', "#abd9e9"]},
  name: 'Fires',
  hoverinfo: 'label+value',
  textinfo:'label+value+',
  hole: .6,
  type: 'pie'
}];








Plotly.newPlot('myDiv', data);

Plotly.newPlot('fireHistoryDiv', dataHistory, lay);

Plotly.newPlot('costDiv', costData);
Plotly.newPlot('historyDiv', historyData, layout);
Plotly.newPlot('donutCount', donutCountData);

 });




	//console.log (discoverArray);
	//console.log(costy);
	//var costy2 = costy.subString(1);
	//var costy3 = costy2.subString(-1);
	//console.log(costy3);
	//var costs = [parsedData[0].costArray];
	//var size = [parsedData[0].sizeArray];








// var POP_TO_PX_SIZE = 9200;

// 	var trace1 ={
// 	x: discoverArray,
// 	y: sizeArray,
// 	text: nameArray,costArray,
// 	marker:{
// 		color: "red",
// 		opacity: 50,
// 		sizeMode: "area",
// 		size: costArray,
// 		sizeref: POP_TO_PX_SIZE

// 	},
// 	mode: 'markers',
// 	type: 'scatter'

// 	};
// var datas = [trace1];
// var layout = {
//   xaxis: {
//     title: 'Discovery Date',
//     size: 28,
//     titlefont: {
//       family: 'Arial, sans-serif',
//       size: 26,
//       color: 'darkgrey'
//     },
//      xaxis: {range: ["2017-05-01 00:00:00", "2017-06-06 00:00:00"]},
//     showticklabels: true,
//     tickangle: 0,
//     tickfont: {
//       family: 'Open-sans sans-serif',
//       size: 25,
//       color: 'black'
//     },
  
//   },
//   yaxis: {
//     title: 'Size of Fire',
//     size: 56,
//     titlefont: {
//       family: 'Open-sans, sans-serif',
//       size: 18,
//       color: 'darkgrey'
//     },
//     showticklabels: true,
//     tickangle: 0,
//     tickfont: {
//       family: 'Old Standard TT, serif',
//       size: 14,
//       color: 'black'
//     },
   

//   }
// };








//   ////  var trace1 = {
//  // x: [1, 2, 3, 4],
//   //y: [10, 15, 13, 17],
//   //mode: 'markers',
//   //type: 'scatter'/
// //};


// //var data = [trace1];


// //Plotly.newPlot('myDiv', data);

//   </script>
 </body>
 </html>